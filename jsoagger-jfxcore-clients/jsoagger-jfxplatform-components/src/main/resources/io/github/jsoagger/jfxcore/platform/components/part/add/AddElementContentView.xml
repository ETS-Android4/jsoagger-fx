<?xml version="1.0" encoding="UTF-8"?>

<!--
	BASIC DATA IMPORT VIEW
-->
<view id="Root" combine.keys="id">
	<component id="Content" combine.keys="id">
		<component id="Wizard">
			<properties combine.keys="name">
				<property name="dialog" value="true" />
				<property name="showSteps" value="true" />
				<property name="dialogWidth" value="500" />
				<property name="dialogHeight" value="700" />
				<property name="styleClass" value="white-background,wizard" />
				<property name="title" value="ADD_ELEMENT_LABEL" />
				<property name="description" value="ADD_ELEMENT_LABEL" />
			</properties>

			<!--
				Wizard steps definition
			-->
			<component id="WizardSteps" combine.keys="id">
				<properties combine.keys="name">
					<property name="showSteps" value="true" />
					<property name="displaySelector" value="true" />
					<property name="stepsWrapperStyleClass" value="white-background" />
				</properties>
				<component id="Step1" combine.keys="ref">
					<properties combine.keys="name">
						<property name="displayGroupSelector" value="false" />
						<property name="displayHeader" value="false" />
						<property name="contentLayoutStyleClass" value="white-background" />
						<property name="contentStyleClass" value="wizard-content" />
						<property name="title" value="GENERAL_LABEL" />
						<property name="layoutImpl" value="FieldsetVerticalLayout" />
					</properties>

					<component id="ParametersFieldset">
						<component id="GeneralFormBloc">
							<properties combine.keys="name">
								<property name="title" value="GENERAL_LABEL" />
								<property name="upperCase" value="true" />
								<property name="displayHeader" value="true" />
								<property name="mode" value="EDIT" />
							</properties>
							
							<component id="FormRow">
								<component id="Rows">
									<component ref="ElementTypeAttribute" />
								</component>
							</component>

							<component id="FormRow">
								<component id="Rows">
									<component ref="ElementNameAttribute" />
								</component>
							</component>
							<component id="FormRow">
								<component id="Rows">
									<component ref="ElementDescriptionAttribute" />
								</component>
							</component>
							
							<component id="FormRow">
								<component id="Rows">
									<properties combine.keys="name">
										<property name="orientation"  value="horizontal"/>
									</properties>
									<component ref="ElementSourceAttribute" />
									<component ref="ElementUnitAttribute" />
								</component>
							</component>
						</component>
					</component>
					<component id="Actions" model="WizardStep1Model" />
				</component>

				<component id="Step2" combine.keys="ref">
					<properties combine.keys="name">
						<property name="displayGroupSelector" value="false" />
						<property name="displayHeader" value="false" />
						<property name="contentStyleClass" value="wizard-content" />
						<property name="title" value="INFORMATION_LABEL" />
						<property name="layoutImpl" value="FieldsetVerticalLayout" />
					</properties>

					<component id="ParametersFieldset">
						<component id="GeneralFormBloc">
							<properties combine.keys="name">
								<property name="displayHeader" value="false" />
								<property name="mode" value="VIEW" />
							</properties>

							<component id="FormRow">
								<component id="Rows">
									<component ref="FolderAttribute" />
								</component>
							</component>
							<component id="FormRow">
								<component id="Rows">
									<component ref="LifecycleAttribute" />
								</component>
							</component>
						</component>
					</component>
					<component id="Actions" model="WizardStep2Model" />
				</component>
			</component>
		</component>
	</component>
	
	<component id="ElementTypeAttribute" combine.keys="id">
		<properties combine.keys="name">
			<property name="label" value="TYPE_ATTRIBUTE_LABEL" />
			<property name="prompt" value="TYPE_ATTRIBUTE_LABEL" />
			<property name="attributeName" value="master.type" />
			<property name="editAttributePath" value="attributes.masterType" />
			<property name="editUtility" value="InputCombobox" />
			<property name="enumeratedValuesLoader" value="InstanciableElementTypeToEnumeratedValueLoader" />
		</properties>
		<component id="Format">
			<properties combine.keys="name">
				<property name="converter" value="EnumeratedValueModelConverter"/>
			</properties>
		</component>
		<component id="ValidationConfig">
			<properties combine.keys="name">
				<property name="mandatory" value="true" />
			</properties>
		</component>
	</component>
	
	<component id="FolderAttribute" combine.keys="id">
		<properties combine.keys="name">
			<property name="label" value="FOLDER_ATTRIBUTE_LABEL" />
			<property name="prompt" value="FOLDER_ATTRIBUTE_LABEL" />
			<property name="attributeName" value="master.folderPath" />
			<property name="editAttributePath" value="attributes.masterFolderPath" />
			<property name="editUtility" value="FolderPicker" />
			<property name="viewLayout" value="VerticalFormRowLayout"/>
		</properties>
		<component id="Actions">
			<component id="InLine">
				<component ref="ElementAttributeForwardAction"/>
			</component>
		</component>
	</component>
	
	<component id="LifecycleAttribute" combine.keys="id">
		<properties combine.keys="name">
			<property name="label" value="LIFECYCLE_ATTRIBUTE_LABEL" />
			<property name="prompt" value="LIFECYCLE_ATTRIBUTE_LABEL" />
			<property name="attributeName" value="master.lifecycle" />
			<property name="editAttributePath" value="attributes.masterLifecycle" />
			<property name="viewLayout" value="VerticalFormRowLayout"/>
			<property name="editUtility" value="InputCombobox" />
			<property name="displayType" value="radio" />
			<property name="enumeratedValuesLoader" value="LifecycleTemplatesToEnumeratedValueLoader" />
			<property name="masterEnumeratedAttribute" value="true"/>
		</properties>
		<component id="Format">
			<properties combine.keys="name">
				<property name="converter" value="EnumeratedValueModelConverter"/>
			</properties>
		</component>
		<component id="Actions">
			<component id="InLine">
				<component ref="ElementAttributeForwardAction"/>
			</component>
		</component>
	</component>
	
	
	<component id="ElementSourceAttribute" combine.keys="id">
		<properties combine.keys="name">
			<property name="label" value="ELEMENT_SOURCE_LABEL" />
			<property name="prompt" value="ELEMENT_SOURCE_LABEL" />
			<property name="attributeName" value="master.source" />
			<property name="editAttributePath" value="attributes.masterSource" />
			<property name="viewLayout" value="VerticalFormRowLayout"/>
			<property name="editUtility" value="InputCombobox" />
			<property name="enumeratedValuesLoader" value="DefaultEnumeratedValueLoader" />
			<property name="enumerationKey" value="partSource" />
		</properties>
		<component id="Format">
			<properties combine.keys="name">
				<property name="converter" value="EnumeratedValueModelConverter"/>
			</properties>
		</component>
		<component id="ValidationConfig">
			<properties combine.keys="name">
				<property name="mandatory" value="true" />
			</properties>
		</component>
	</component>
	
	<component id="ElementUnitAttribute" combine.keys="id">
		<properties combine.keys="name">
			<property name="label" value="ELEMENT_UNIT_LABEL" />
			<property name="prompt" value="ELEMENT_UNIT_LABEL" />
			<property name="attributeName" value="master.unit" />
			<property name="editAttributePath" value="attributes.masterUnit" />
			<property name="viewLayout" value="VerticalFormRowLayout"/>
			<property name="editUtility" value="InputCombobox" />
			<property name="enumeratedValuesLoader" value="DefaultEnumeratedValueLoader" />
			<property name="enumerationKey" value="quantityUnit" />
		</properties>
		<component id="Format">
			<properties combine.keys="name">
				<property name="converter" value="EnumeratedValueModelConverter"/>
			</properties>
		</component>
		<component id="ValidationConfig">
			<properties combine.keys="name">
				<property name="mandatory" value="true" />
			</properties>
		</component>
	</component>
	
	<component id="ElementNameAttribute" combine.keys="id">
		<properties combine.keys="name">
			<property name="label" value="ELEMENT_NAME_ATTRIBUTE_LABEL" />
			<property name="prompt" value="ELEMENT_NAME_ATTRIBUTE_LABEL" />
			<property name="attributeName" value="master.name" />
			<property name="editAttributePath" value="attributes.masterName" />
			<property name="editUtility" value="InputText" />
		</properties>
		<component id="ValidationConfig">
			<properties combine.keys="name">
				<property name="mandatory" value="true" />
			</properties>
		</component>
	</component>

	<component id="ElementDescriptionAttribute" combine.keys="id">
		<properties combine.keys="name">
			<property name="label" value="ELEMENT_DESCRIPTION_ATTRIBUTE_LABEL" />
			<property name="prompt" value="ELEMENT_DESCRIPTION_ATTRIBUTE_LABEL" />
			<property name="attributeName" value="master.description" />
			<property name="editAttributePath" value="attributes.masterDescription" />
			<property name="editUtility" value="InputTextarea" />
		</properties>
		<component id="ValidationConfig">
			<properties combine.keys="name">
				<property name="maxLenght" value="255" />
			</properties>
		</component>
	</component>

	<component id="WizardStep1Model">
		<component id="RootMenuActions">
			<component id="RightActions">
				<component ref="NextButton" />
			</component>
		</component>
	</component>
	<component id="NextButton">
		<properties combine.keys="name">
			<property name="label" value="NEXT_LABEL" />
			<property name="tooltip" value="NEXT_LABEL" />
			<property name="default" value="true" />
			<property name="upperCase" value="true" />
			<property name="type" value="SimpleButton" />
			<property name="ikonli" value="gmi-chevron-right:20" />
			<property name="displayMode" value="RIGHT" />
			<property name="styleClass" value="wizard-button" />
		</properties>
		<component id="Handler">
			<properties combine.keys="name">
				<property name="action" value="WizardStepNextActionHandler" />
			</properties>
		</component>
	</component>

	<component id="WizardStep2Model">
		<component id="RootMenuActions">
			<component id="RightActions">
				<component ref="BackButton" />
				<component ref="FinishButton" />
			</component>
		</component>
	</component>
	<component id="BackButton">
		<properties combine.keys="name">
			<property name="label" value="BACK_LABEL" />
			<property name="tooltip" value="BACK_LABEL" />
			<property name="default" value="true" />
			<property name="upperCase" value="true" />
			<property name="type" value="SimpleButton" />
			<property name="ikonli" value="gmi-chevron-left:20" />
			<property name="styleClass" value="wizard-button" />
		</properties>
		<component id="Handler">
			<properties combine.keys="name">
				<property name="action" value="WizardStepBackActionHandler" />
			</properties>
		</component>
	</component>
	<component id="FinishButton">
		<properties combine.keys="name">
			<property name="label" value="CREATE_LABEL" />
			<property name="tooltip" value="CREATE_LABEL" />
			<property name="default" value="true" />
			<property name="upperCase" value="true" />
			<property name="type" value="SimpleButton" />
			<property name="ikonli" value="gmi-save:20" />
			<property name="displayMode" value="RIGHT" />
			<property name="styleClass" value="wizard-button" />
		</properties>
		<component id="Handler">
			<properties combine.keys="name">
				<property name="action" value="CreateElementActionHandler" />
			</properties>
		</component>
	</component>
	
	<component id="ElementAttributeForwardAction">
		<properties combine.keys="name">
			<property name="ikonli" value="fa-angle-right:20"/>
			<property name="styleClass" value="form-inline-action"/>
			<property name="actionHandler" value="SearchFormForwardEditionHandler"/>
			<property name="forwardEditorImpl" value="SearchAttributeForwardEditor"/>
			<property name="footerImpl" value="SimpleSearchForwardEditorFooter"/>

			<property name="forwardEditorStyleClass" value="ep-as-forward-editor"/>
			<property name="forwardEditorContentStyleClass" value="ep-as-forward-editor-content"/>
		</properties>
	</component>
</view>